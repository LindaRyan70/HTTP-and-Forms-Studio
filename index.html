<!doctype html>

<head>
	<meta charset="utf-8">
	<script>
		// TODO: create a handler

		// Line below is Instructor's arrow function version of the setSearchEngine() function line. //
		
		//	const setSearchEngine = (e) => {}

		//  Also, I am not really sure if/when the "order" of code matters in this setSearchEngine() function. //

		function setSearchEngine() {
			let actions = {
				"google": "https://www.google.com/search",
				"duckDuckGo": "https://duckduckgo.com/",
				"bing": "https://www.bing.com/search",
				"ask": "https://www.ask.com/web"
			};

			let form = document.getElementById('searchForm');
			let selectedEngine = document.querySelector('input[name=engine]:checked');
			let searchTerm = document.querySelector('input[name=q]').value;

				//  Bonus Mission to require a search term to be entered. //
				if(searchTerm.trim() === '') {
                	event.preventDefault();
               		alert('Please enter a search term!');
                	return;
            	};

				//  Bonus Mission to require a search engine to be selected. //
				if(selectedEngine === null) {
					event.preventDefault();
					alert('Please select a search engine!');
				};

			let action = actions[selectedEngine.value];

				// Instructor, Jayde, added this conditional/alert below in Studio review but don't know why! //

				if (action === undefined) {
               	 	event.preventDefault();
                	alert('You somehow broke our code!');
           		 };

			// The line below sets a key/value attribute pair for the form element. //
			form.setAttribute('action', action);
		};


    	window.addEventListener("load", function() {
       	 // TODO: register the handler
			let form = document.getElementById('searchForm');
			form.addEventListener('submit', setSearchEngine);
    	});

	</script>
</head>


<body>

	<form id="searchForm">
    <!-- TODO: add form elements -->

	<!-- 1. Text input -->

	<label>Enter Search Term: <input type='text' name='q'/></label>

	<!-- 2. radio group -->

	<label><input type='radio' name='engine' value='google'/>Google</label>
	<label><input type='radio' name='engine' value='duckDuckGo'/>DuckDuckGo</label>
	<label><input type='radio' name='engine' value='bing'/>Bing</label>
	<label><input type='radio' name='engine' value='ask'/>Ask</label>

	<!-- 4. submit button -->
	<button>Go!</button>
	<!-- Alt code for "Go!" Submit button instead of above: <input type="submit" value="Go!"/> -->

	</form>

</body>